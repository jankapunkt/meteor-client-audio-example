<template name="play">
    <table class="table border-0">
        <tbody>
        <tr>
            <td>
                <button class="btn btn-default"></button>
            </td>
            <td style="width:100%;">
                <div class="progress" style="height: 50px;">
                    {{#with progress this}}
                        <div class="progress-bar" role="progressbar" style="width: {{this}}%;" aria-valuenow="{{this}}"
                             aria-valuemin="0" aria-valuemax="100"></div>
                    {{/with}}
                </div>
            </td>
        </tr>
        </tbody>
    </table>
	<table class="table table-hover outer-border">
		<thead>
		<tr>
			<th>Filename</th>
			<th>Size</th>
			<th>Cached?</th>
			<th>Actions</th>
		</tr>
		</thead>
		<tbody>
		{{#each sounds}}
			{{#with getFile this.fileId}}
				{{log this}}
				<tr class="">
					<td class="font-weight-bold">
						{{this.name}}
					</td>
					<td class="text-muted">{{toMB this.size}} MB</td>
					<td>
						{{#if isCached this.link}}
							<i class="fa fa-fw fa-download"></i>
						{{/if}}
					</td>
					<td class="text-right">
						{{#if isPlaying this._id}}
							{{#if loaded}}
								<button class="btn btn-sm btn-default stop-button" data-target="{{this._id}}">
									<i class="fa fa-fw fa-stop"></i>
								</button>
							{{else}}
								<button class="btn btn-sm btn-default">
									<i class="fa fa-spinner fa-pulse"></i>
								</button>
							{{/if}}
						{{else}}
							<button class="btn btn-sm btn-default play-button"
									data-target="{{this._id}}"
									data-link="{{this.link}}"
									data-type="{{this.type}}">
								<i class="fa fa-fw fa-play"></i>
							</button>
						{{/if}}

						<button class="btn btn-sm btn-default delete-button" data-target="{{this._id}}">
							<i class="fa fa-fw fa-trash-o"></i>
						</button>
					</td>
				</tr>
                {{else}}
                <div class="jumbotron">
                    <p>No files in list. Add one to play.</p>
                </div>
			{{/with}}
		{{/each}}
		</tbody>
	</table>
</template>